var Q=Object.defineProperty,U=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var R=(s,e,a)=>e in s?Q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,V=(s,e)=>{for(var a in e||(e={}))q.call(e,a)&&R(s,a,e[a]);if(A)for(var a of A(e))F.call(e,a)&&R(s,a,e[a]);return s},D=(s,e)=>U(s,W(e));import{r as o,b as j,j as r}from"./vendor.13398e09.js";import{M as N}from"./index.e745471f.js";import{M as T}from"./index.fab6a047.js";import{M as G}from"./index.f1b593e0.js";import{M as z}from"./index.df92681f.js";import{M as X}from"./index.03f3394d.js";function Y(s){const[e,a]=o.exports.useState(s);return[e,m=>a(C=>Object.assign({},C,m))]}const Z=(s,e)=>{const{pageApi:a,pageParams:h,searchRender:m,formRender:C,tableOptions:P,tableRender:x,asideKey:g,asideData:i,asideValue:K,asideTreeItemRender:k,radioCardsData:y,radioCardsValue:O,tabsData:b,tabsValue:E,onRowChange:B,showAside:I,searchParams:M}=s,[n,S]=Y({size:20,number:1,count:0,content:[]}),[d,v]=o.exports.useState(K);o.exports.useEffect(()=>{i&&v(i[0].key)},[i]);const c=o.exports.useCallback(async(t={})=>{if(g&&!d)return;const f=Object.entries(t).reduce((u,[l,p])=>(p!=null&&p!==""&&u.push({name:l,searchType:"EQUAL",searchVal:p}),u),[]);if(a){const u=D(V({criteriaVos:f},h),{size:n.size,number:n.number,[g]:d}),l=await a(u);l.code&&S({count:l.data.count,content:l.data.content})}},[a,JSON.stringify(M),h,n.size,n.number,g,d]);o.exports.useEffect(()=>{c(M)},[c]);const H=t=>{c(t)},J=([t])=>{v(t)},L=(t,f)=>{S({number:t}),f&&S({size:f})};return o.exports.useImperativeHandle(e,()=>({setAsideCheckedKey:v,load:t=>c(t),reload:()=>c(M)})),j("div",{css:$,children:[b&&r(X,{className:"tabs",options:b,defaultValue:b[0].value||E}),j("div",{className:"tabs-main",children:[I&&i&&r(T,{options:i,selectedKeys:d?[d]:void 0,titleRender:k,onSelect:J}),j("div",{className:"aside-main",children:[m&&r(z,{className:"search",onSearch:H,children:m}),y&&r(G,{options:y,defaultValue:O||y[0].value}),P&&r("div",{className:"table",children:r(N,{dataSource:n.content,columns:P,rowKey:t=>t.id,pagination:{current:n.number,pageSize:n.size,total:n.count,onChange:L},rowSelection:{type:"radio",columnWidth:48,onChange:B},children:x==null?void 0:x(n.content)})})]})]})]})},_=o.exports.forwardRef(Z),w=_;w.MySearch=z;w.MyTable=N;w.MyAside=T;const $={name:"1hurv70",styles:"display:flex;flex-direction:column;.tabs-main{flex:1;display:flex;overflow:hidden;}.search{margin-bottom:10px;}.aside-main{display:flex;flex:1;overflow:hidden;flex-direction:column;@media screen and (max-height: 800px){overflow:auto;}}.table{flex:1;overflow:hidden;@media screen and (max-height: 800px){overflow:auto;min-height:500px;}}"};export{w as M};
